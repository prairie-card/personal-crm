# コンタクト詳細画面とリスト表示の改善 - 実装完了

## 実装日
2025-10-10

## 概要
ContactDetailPage（MOB-CONTACT-DETAIL）で未入力フィールドも「-」として表示し、管理可能な情報項目を明示しました。また、Contactsタブを登録日降順でソート表示するようにしました。

## 実装内容

### 1. ContactDetailPageの情報表示を体系化

#### 変更前
- 条件付きレンダリング（`{field && ...}`）により、値がないフィールドは非表示
- ユーザーはどんな情報項目が管理できるか分からない
- AI検索でどの項目を埋められるか不明瞭

#### 変更後
情報を以下のセクションに整理し、全て「-」表示に対応：

**基本情報セクション**
- よみがな
- 会社名
- 肩書
- メールアドレス（リンク付き）
- 電話番号（リンク付き）

**人物メモセクション**
- bio（紹介文）

**出会った情報セクション**
- 出会った場所（metLocation）
- 詳細（metAt）
- タグ（カンマ区切り）

**組織情報セクション**
- 組織名
- 部署・役職
- 会社住所
- 会社電話
- 会社URL（リンク付き）

**SNSアカウントセクション**
- 登録済みSNSのみグリッド表示
- 値がない場合は「-」と表示

**関連記事・URLセクション**
- contentUrlsのリスト表示
- 値がない場合は「-」と表示

#### UI改善ポイント
- 統一フォーマット：`フィールド名：値 or -`
- グレー背景のセクションボックスで情報を構造化
- リンク可能な項目（メール、電話、URL）は青色リンク
- AI検索で収集可能な情報の箱を明示
- 空欄は「-」記号で表現（eightなど一般的なアプリと同様）

### 2. Contactsタブのソート順変更

**ファイル**: `src/components/MobileView.tsx`

```typescript
{[...contacts]
  .sort((a, b) => 
    new Date(b.createdDate).getTime() - new Date(a.createdDate).getTime()
  )
  .map((contact) => (
    // ...
  ))}
```

- 登録日（createdDate）降順でソート
- 新しいコンタクトが上に表示される（eightと同じ仕様）
- 元のcontacts配列は変更せず、スプレッド演算子でコピーしてソート

## 変更ファイル
- `src/components/ContactDetailPage.tsx` - 情報表示の全面改修
- `src/components/MobileView.tsx` - Contactsタブのソート追加

## テスト確認項目

- [x] ビルドエラーなし
- [ ] ContactDetailPageで全セクションが表示される
- [ ] 値がないフィールドに「-」と表示される
- [ ] メール、電話、URLがリンクとして機能する
- [ ] Contactsタブが新しい順に並んでいる

## 備考

- ハリボテ実装（モック）として最小限の改修
- 会社郵便番号は現状Contact型に存在しないため未実装
- 将来的にフィールド追加時は同じパターンで「-」表示を追加可能
- AI検索機能実装時、各フィールドの箱が明確なので自動入力しやすい設計
- 空欄表示は「-」記号を採用（シンプルで一般的な表現）

